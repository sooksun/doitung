# PRODUCT REQUIREMENT DOCUMENT (PRD)
## ระบบประเมินคุณภาพสถานศึกษา (EduQuality Assessment Platform - EQAP)

---

## 1. ชื่อระบบ (Working Name)

**EduQuality Assessment Platform (EQAP)**  
ระบบประเมินคุณภาพสถานศึกษาตามตัวชี้วัด ใช้ได้ทุกสำนักงานเขตพื้นที่การศึกษา

---

## 2. เป้าหมายของระบบ (Objectives)

### 2.1 เป้าหมายหลัก
- รองรับการประเมินคุณภาพตามตัวชี้วัดมาตรฐานเดียวกัน
- ใช้งานได้กับหลายสำนักงานเขตพื้นที่การศึกษา
- แต่ละสำนักงานมีหลายกลุ่มเครือข่าย
- แต่ละกลุ่มมีหลายโรงเรียน
- รองรับผู้ใช้งานหลายบทบาท (Role-based Access)
- ใช้งานได้หลายปีการศึกษา / ภาคเรียน
- มี Dashboard สรุปผลแบบ Spider / Radar Graph (4 ด้าน)
- ใช้งานจริงบน Web (Responsive, Mobile-first)
- ระบบต้องเขียนต่อได้แม้ Cursor AI หยุด/รีสตาร์ท

### 2.2 เป้าหมายรอง
- รองรับการอัปโหลดหลักฐานประกอบการประเมิน
- สร้างรายงานสรุปผลการประเมิน
- เปรียบเทียบผลการประเมินระหว่างปีการศึกษา
- Export ข้อมูลเป็น Excel/PDF

---

## 3. กลุ่มผู้ใช้งาน (User Roles)

| Role | สิทธิ์ | คำอธิบาย |
|------|-------|----------|
| **Super Admin** | จัดการระบบทั้งหมด | จัดการสำนักงานเขต, เครือข่าย, โรงเรียน, ผู้ใช้งาน, ตัวชี้วัด |
| **เขตพื้นที่** | ดูภาพรวมทุกโรงเรียนในเขต | ดู Dashboard, รายงานสรุปผล, เปรียบเทียบระหว่างโรงเรียน |
| **เครือข่าย** | ดูเฉพาะโรงเรียนในเครือข่าย | ดู Dashboard, รายงานสรุปผลของโรงเรียนในเครือข่าย |
| **ผู้อำนวยการโรงเรียน** | ดู/ส่งแบบประเมินโรงเรียน | ดูผลการประเมิน, ส่งแบบประเมิน, จัดการผู้ประเมิน |
| **ครู/กรรมการ** | กรอกแบบประเมิน | กรอกแบบประเมิน, อัปโหลดหลักฐาน, บันทึกหมายเหตุ |
| **ผู้ดูข้อมูล** | อ่านอย่างเดียว | ดู Dashboard, รายงานสรุปผล (Read-only) |

---

## 4. โครงสร้างข้อมูลเชิงพื้นที่ (Hierarchy)

```
สำนักงานเขตพื้นที่การศึกษา (EducationOffice)
 └── กลุ่มเครือข่าย (Network)
      └── โรงเรียน (School)
           └── ปีการศึกษา (AcademicYear)
                └── ภาคเรียน (Semester)
                     └── แบบประเมิน (Assessment)
                          └── คำตอบรายตัวชี้วัด (AssessmentResponse)
                               └── หลักฐาน (Evidence)
```

---

## 5. กลุ่มตัวชี้วัด (Assessment Domains)

ระบบใช้ **4 กลุ่มหลัก** ตามมาตรฐานการประเมินคุณภาพสถานศึกษา:

### 5.1 ผู้นำทางวิชาการ (12 ตัวชี้วัด)
1. ผู้บริหารและผู้มีส่วนเกี่ยวข้องร่วมกันกำหนดกรอบเป้าหมายการพัฒนาคุณภาพผู้เรียน
2. ผู้บริหารมีการจัดทำแผนงานโครงการที่สนับสนุนเป้าหมายที่ท้าทายของโรงเรียนอย่างชัดเจน
3. ผู้บริหารเป็นผู้นำในการวางแผนจัดทำและพัฒนาหลักสูตรสถานศึกษา
4. ผู้บริหารนิเทศติดตามความก้าวหน้าการสอนของครูอย่างต่อเนื่อง
5. ผู้บริหารติดตามความก้าวหน้าพัฒนาการของผู้เรียนทุกชั้น
6. ผู้บริหารให้ความสำคัญกับเวลาในการจัดการเรียนการสอนของครูมากกว่างานอื่น
7. ผู้บริหารสถานศึกษากระตุ้นและสร้างแรงจูงใจด้านวิชาการให้ครู
8. ผู้บริหารสื่อสารได้ชัดเจน เปิดใจรับฟัง และเชื่อมทุกฝ่ายให้เข้าใจและร่วมมือไปในทิศทางเดียวกัน
9. ผู้บริหารสร้างความเชื่อมั่นในคุณภาพนักเรียนต่อผู้ปกครองและชุมชน
10. ผู้บริหารจัดสรรเวลาเพื่อพัฒนางานวิชาการร่วมกับครูไว้อย่างชัดเจน
11. ผู้บริหารมีส่วนร่วมกับภาคีเครือข่ายทั้งภายในและภายนอก
12. ผู้บริหารสามารถใช้เทคโนโลยีและสารสนเทศ เพื่อเพิ่มประสิทธิภาพการบริหาร สนับสนุนครู และยกระดับคุณภาพการเรียนรู้อย่างเป็นรูปธรรม

### 5.2 ชุมชนแห่งการเรียนรู้ (PLC) (10 ตัวชี้วัด)
1. มีชั่วโมง PLC ในตารางเรียน
2. มีกลุ่มหรือวง PLC และการกำหนดบทบาทหน้าที่ของสมาชิกในวง PLC
3. ผู้บริหารสถานศึกษาหรือครูผู้นำร่วมพบปะพูดคุยและเป็นส่วนหนึ่งของกลุ่ม PLC อย่างสม่ำเสมอ
4. กระบวนการ PLC มีบรรยากาศที่ปลอดภัย รับฟังความคิดเห็นของทุกคน และเปิดพื้นที่ให้ผู้เข้าร่วม PLC ได้มีโอกาสแลกเปลี่ยนความคิดเห็นอย่างทั่วถึง
5. ครูมีการนำแผนการจัดการเรียนรู้ ปัญหาพฤติกรรมนักเรียน โครงการ กิจกรรมและเข้าร่วมพูดคุยแลกเปลี่ยนเรียนรู้ในวง PLC
6. ครูเปิดห้องเรียน (Open Class) เพื่อให้เพื่อนครูเข้ามาสังเกตการสอน และแนวทางแก้ไขพฤติกรรมนักเรียน โครงการ กิจกรรมต่างๆ ภายในโรงเรียน
7. กระบวนการ PLC มีการนำผลการสังเกตการจัดการเรียนรู้และแนวทางแก้ไขพฤติกรรมนักเรียน โครงการ กิจกรรมต่างๆ เพื่อสะท้อนแลกเปลี่ยนในวง PLC
8. กระบวนการ PLC มีการตั้งคำถามชวนคิดถึงผลลัพธ์ที่เกิดขึ้นเพื่อการดูแลช่วยเหลือนักเรียน
9. กระบวนการ PLC สามารถเสริมพลัง สร้างกำลังใจ ให้คำแนะนำป้อนกลับเชิงบวก (Positive Feedback) เพื่อให้ครูเกิดแรงบันดาลใจในการยกระดับและพัฒนาตนเองอย่างต่อเนื่อง
10. มีการบันทึกการ PLC เพื่อใช้เป็นข้อมูลในการพัฒนา

### 5.3 การเรียนรู้ที่มีประสิทธิภาพ – ด้านครู (12 ตัวชี้วัด)
1. ครูประสานความร่วมมือกับเพื่อนครู ผู้บริหารสถานศึกษาผู้ปกครองเพื่อช่วยเหลือผู้เรียนรายบุคคล
2. ครูจัดกิจกรรมการเรียนรู้โดยให้ผู้เรียนได้ลงมือปฏิบัติและสะท้อนผลการเรียนรู้ด้วยตนเอง
3. ครูจัดกิจกรรมการเรียนรู้ด้วยกระบวนการมีส่วนร่วมและทำงานเป็นทีม
4. ครูจัดกิจกรรมการเรียนรู้ที่เน้นผู้เรียนให้สร้างองค์ความรู้ด้วยตนเอง
5. ครูส่งเสริมให้ผู้เรียนได้พัฒนาศักยภาพตามความสนใจโดยคำนึงถึงความแตกต่างระหว่างบุคคล
6. ครูจัดกิจกรรมการเรียนรู้โดยให้ผู้เรียนสะท้อนผลการเรียนรู้ด้วยตนเอง
7. ครูนำผลการวัดและประเมินผลการเรียนรู้มาปรับปรุงและพัฒนาคุณภาพผู้เรียน
8. ครูจัดสภาพแวดล้อมและบรรยากาศในห้องเรียนเอื้อต่อการเรียนรู้
9. ครูสื่อสารและบริหารจัดการชั้นเรียนเชิงบวก เช่น มีความเมตตา ใช้คำพูดสุภาพ นุ่มนวล เป็นมิตร ใช้น้ำเสียงปกติ ไม่ตำหนิ
10. ครูมีความพึงพอใจในการปฏิบัติหน้าที่ รู้สึกมั่นคงปลอดภัยในการทำงาน
11. ครูเป็นแบบอย่างที่ดีให้กับนักเรียน
12. ครูจัดการเรียนรู้ที่เชื่อมโยงกับสถานการณ์ในชีวิตประจำวันและสถานการณ์ปัจจุบัน

### 5.4 การเรียนรู้ที่มีประสิทธิภาพ – ด้านนักเรียน (13 ตัวชี้วัด)
1. นักเรียนมีทักษะการคิดวิเคราะห์ คิดสร้างสรรค์ และแก้ปัญหา
2. นักเรียนมีความกล้าแสดงออก กล้าแสดงความคิดเห็นอย่างมีเหตุผล
3. นักเรียนมีทักษะการทำงานเป็นทีม ยอมรับความคิดเห็นซึ่งกันและกัน มีความเป็นผู้นำและผู้ตามที่ดี
4. นักเรียนสามารถแสวงหาความรู้และสร้างองค์ความรู้ด้วยตนเอง
5. นักเรียนมีเจตคติที่ดีต่อการเรียนรู้
6. นักเรียนมีสุขภาวะที่ดี และดูแลตนเองให้ปลอดภัยได้
7. นักเรียนมีความรับผิดชอบต่อภารกิจที่ได้รับมอบหมาย
8. นักเรียนมีมารยาททางสังคม
9. นักเรียนมีทักษะการใช้ภาษาไทยในการสื่อสาร
10. นักเรียนมีทักษะในการควบคุมตนเอง ทั้งด้านพฤติกรรมและอารมณ์
11. นักเรียนสามารถพึ่งพาตนเองได้ทั้งการเรียนรู้และการใช้ชีวิตประจำวัน
12. นักเรียนมีสมาธิในการเรียนรู้
13. นักเรียนมีจริยธรรม จิตสำนึกและจิตสาธารณะที่ดี

### 5.5 เกณฑ์การให้คะแนน
ทุกตัวชี้วัดใช้ **Radio Button 1–5**:
- **ระดับ 5:** ยอดเยี่ยม (Excellent)
- **ระดับ 4:** ดีมาก (Very Good)
- **ระดับ 3:** ดี (Good)
- **ระดับ 2:** พอใช้ (Fair)
- **ระดับ 1:** ต้องปรับปรุง (Needs Improvement)

### 5.6 หมายเหตุและหลักฐาน
- ทุกตัวชี้วัดรองรับการบันทึก **หมายเหตุ (Note)**
- ทุกตัวชี้วัดรองรับการอัปโหลด **หลักฐาน (Evidence)** หลายไฟล์
- หลักฐานรองรับไฟล์: PDF, DOC, DOCX, XLS, XLSX, JPG, PNG, MP4, MP3

---

## 6. Features หลัก

### 6.1 Authentication & Authorization
- **Sign up / Sign in:** ระบบลงทะเบียนและเข้าสู่ระบบ
- **Role-based access:** ควบคุมสิทธิ์ตามบทบาท
- **JWT / Session:** ใช้ JWT สำหรับ authentication
- **Password reset:** รีเซ็ตรหัสผ่านผ่านอีเมล
- **Profile management:** จัดการข้อมูลส่วนตัว

### 6.2 Assessment Form
- **แสดงตัวชี้วัดตาม Role:** แสดงเฉพาะตัวชี้วัดที่ Role นั้นสามารถประเมินได้
- **Radio Button 1–5:** ปุ่มเลือกคะแนน 1-5 สำหรับแต่ละตัวชี้วัด
- **Auto-save:** บันทึกอัตโนมัติทุก 30 วินาที
- **Resume งานต่อได้:** กลับมาทำต่อได้จากที่ค้างไว้
- **Progress indicator:** แสดงความคืบหน้าการกรอกแบบประเมิน
- **Upload หลักฐาน:** อัปโหลดไฟล์หลักฐานหลายไฟล์
- **บันทึกหมายเหตุ:** บันทึกหมายเหตุสำหรับแต่ละตัวชี้วัด
- **Validation:** ตรวจสอบความครบถ้วนก่อนส่ง

### 6.3 Dashboard
- **Spider / Radar Graph (4 ด้าน):** แสดงผลการประเมิน 4 กลุ่มตัวชี้วัด
- **ค่าเฉลี่ยรายกลุ่ม:** แสดงค่าเฉลี่ยคะแนนแต่ละกลุ่มตัวชี้วัด
- **Drill down รายโรงเรียน / ปี:** คลิกดูรายละเอียดแต่ละโรงเรียน/ปีการศึกษา
- **Multi-year comparison:** เปรียบเทียบผลการประเมินระหว่างปีการศึกษา
- **Filter:** กรองตามสำนักงานเขต, เครือข่าย, โรงเรียน, ปีการศึกษา
- **Export:** ส่งออกเป็น Excel/PDF

### 6.4 Multi-Year Support
- **เลือกปีการศึกษา / ภาคเรียน:** เลือกปีการศึกษาและภาคเรียนที่ต้องการประเมิน
- **ดูย้อนหลังได้:** ดูผลการประเมินย้อนหลังได้ทุกปีการศึกษา
- **เปรียบเทียบระหว่างปี:** เปรียบเทียบผลการประเมินระหว่างปีการศึกษา

### 6.5 Admin Module
- **จัดการสำนักงานเขต:** เพิ่ม/แก้ไข/ลบสำนักงานเขต
- **จัดการเครือข่าย:** เพิ่ม/แก้ไข/ลบกลุ่มเครือข่าย
- **จัดการโรงเรียน:** เพิ่ม/แก้ไข/ลบโรงเรียน
- **จัดการผู้ใช้งาน:** เพิ่ม/แก้ไข/ลบผู้ใช้งาน, กำหนด Role
- **จัดการตัวชี้วัด:** เพิ่ม/แก้ไข/ลบตัวชี้วัด, จัดกลุ่มตัวชี้วัด
- **จัดการปีการศึกษา:** เพิ่ม/แก้ไข/ลบปีการศึกษา, ภาคเรียน

### 6.6 Reporting
- **รายงานสรุปผล:** สรุปผลการประเมินตามสำนักงานเขต, เครือข่าย, โรงเรียน
- **รายงานเปรียบเทียบ:** เปรียบเทียบผลการประเมินระหว่างโรงเรียน/ปีการศึกษา
- **Export Excel/PDF:** ส่งออกรายงานเป็น Excel หรือ PDF

---

## 7. Technology Stack (บังคับตามโจทย์)

| Layer | Technology | Version/Note |
|-------|------------|--------------|
| **Frontend** | NextJS | 15.0.5 (App Router, .tsx เท่านั้น) |
| **Backend** | NodeJS | v11 (ตรวจสอบเวอร์ชัน) |
| **Database** | MySQL | Latest stable |
| **ORM** | Prisma | Latest stable + Prisma Studio |
| **OS** | Ubuntu Linux | Latest LTS |
| **Chart Library** | Recharts | Latest stable |
| **Auth** | Custom Auth | JWT |
| **Language** | TypeScript | Latest stable |
| **Styling** | Tailwind CSS | Latest stable |
| **File Upload** | Next.js API | Built-in |

---

## 8. System Architecture (High-level)

```
NextJS App (App Router)
 ├── Auth Module
 │    ├── Login/Signup
 │    ├── JWT Management
 │    └── Role-based Access
 ├── Assessment Module
 │    ├── Assessment Form
 │    ├── Auto-save
 │    └── Evidence Upload
 ├── Dashboard Module
 │    ├── Radar/Spider Graph
 │    ├── Summary Reports
 │    └── Multi-year Comparison
 ├── Admin Module
 │    ├── Office/Network/School Management
 │    ├── User Management
 │    └── Indicator Management
 └── API Routes
      └── Prisma → MySQL
```

---

## 9. Database Design (Prisma Schema Overview)

### 9.1 Core Hierarchy
- **EducationOffice:** สำนักงานเขตพื้นที่การศึกษา
- **Network:** กลุ่มเครือข่าย
- **School:** โรงเรียน
- **AcademicYear:** ปีการศึกษา
- **Semester:** ภาคเรียน

### 9.2 Assessment
- **IndicatorGroup:** กลุ่มตัวชี้วัด (4 กลุ่ม)
- **Indicator:** ตัวชี้วัด (47 ตัว)
- **Assessment:** แบบประเมิน
- **AssessmentResponse:** คำตอบรายตัวชี้วัด
- **Evidence:** หลักฐานประกอบการประเมิน

### 9.3 User Management
- **User:** ผู้ใช้งาน (Role-based)

---

## 10. User Interface Requirements

### 10.1 Design Theme
- **สีหลัก:** ม่วง (Purple), น้ำเงิน (Blue), ขาว (White)
- **Responsive:** Mobile-first design
- **Accessibility:** รองรับการเข้าถึงสำหรับผู้ใช้ทุกคน

### 10.2 Key Pages
1. **Login/Signup Page**
2. **Dashboard Page** (Role-based)
3. **Assessment Form Page**
4. **Admin Management Pages**
5. **Report Pages**

---

## 11. Non-Functional Requirements

### 11.1 Performance
- หน้าแรกโหลดภายใน 2 วินาที
- Auto-save ทำงานภายใน 1 วินาที
- Dashboard render ภายใน 3 วินาที

### 11.2 Security
- Password encryption (bcrypt)
- JWT token expiration
- Role-based access control
- File upload validation

### 11.3 Scalability
- รองรับผู้ใช้พร้อมกัน 1,000+ คน
- รองรับข้อมูลหลายปีการศึกษา
- รองรับหลายสำนักงานเขต

### 11.4 Maintainability
- Code modularity
- Documentation
- Error handling
- Logging

---

## 12. Development Guidelines

### 12.1 Code Continuity
- ใช้ไฟล์ `context.md` บันทึกสถานะปัจจุบัน
- ใช้ไฟล์ `plan.md` บันทึกแผนการพัฒนา
- ใช้ไฟล์ `task.md` บันทึก task list
- อัปเดตไฟล์เหล่านี้ทุกครั้งที่ทำงานเสร็จ

### 12.2 Coding Standards
- TypeScript strict mode
- ESLint + Prettier
- Component-based architecture
- API route separation

### 12.3 Data Management
- ใช้ Prisma สำหรับทุก DB operation
- ไม่ใช้ mock data
- ใช้ seed data สำหรับ development

---

## 13. Success Criteria

### 13.1 Functional
- ✅ ผู้ใช้ทุก Role สามารถเข้าสู่ระบบได้
- ✅ ผู้ใช้สามารถกรอกแบบประเมินได้ครบถ้วน
- ✅ Dashboard แสดงผลถูกต้อง
- ✅ รองรับ Multi-tenant และ Multi-year

### 13.2 Technical
- ✅ ระบบทำงานบน Ubuntu Linux
- ✅ ใช้ NextJS 15.0.5 (App Router)
- ✅ ใช้ Prisma + MySQL
- ✅ Code สามารถเขียนต่อได้แม้ Cursor AI หยุด/รีสตาร์ท

---

## 14. Timeline & Phases

### Phase 1: Database + Auth (Week 1-2)
- Setup Prisma + MySQL
- Create database schema
- Implement authentication (JWT)
- Create login/signup pages

### Phase 2: Assessment Form (Week 3-4)
- Create assessment form UI
- Implement auto-save
- Implement evidence upload
- Create progress indicator

### Phase 3: Dashboard (Week 5-6)
- Create dashboard UI
- Implement Radar/Spider Graph
- Create summary reports
- Implement multi-year comparison

### Phase 4: Admin Module (Week 7-8)
- Create admin management pages
- Implement CRUD operations
- Create user management

### Phase 5: Optimization + Export (Week 9-10)
- Performance optimization
- Implement export functionality
- Testing & bug fixes
- Documentation

---

## 15. Appendix

### 15.1 Glossary
- **EQAP:** EduQuality Assessment Platform
- **PLC:** Professional Learning Community
- **Multi-Tenant:** รองรับหลายสำนักงานเขต
- **Multi-Year:** รองรับหลายปีการศึกษา

### 15.2 References
- เอกสารตัวชี้วัดการประเมินคุณภาพสถานศึกษา (item_evaluation.pdf)
- NextJS 15 Documentation
- Prisma Documentation
- Recharts Documentation

---

**Document Version:** 1.0  
**Last Updated:** 2026-01-25  
**Author:** Development Team
